$(document).ready(function(){var e=$(window),t=e.height(),i=e.width(),a=$("#slider"),n=Math.max(t/2848,i/4288),r=new TimelineLite({paused:!0}).to(a,1,{zoom:n}).to($("#start"),.1,{css:{autoAlpha:"0",display:"none"}},0).to(a,.5,{opacity:0}),o=e.scrollTop();e.on("scroll",function(){o=e.scrollTop();var i=o/t;i>=0&&TweenLite.to(r.pause(),.1,{time:i})});var c={discard:[["A",45],["B",26],["C",13.6],["D",8.5],["E",6.9]],create:[["A",30],["B",25],["C",20],["D",15],["E",10]]};pie=new Highcharts.Chart({chart:{type:"pie",renderTo:"chart"},title:{text:"Chart!",align:"center",verticalAlign:"middle"},plotOptions:{pie:{shadow:!1,center:["50%","50%"]}},tooltip:{valueSuffix:"%"},series:[{type:"pie",name:"Units",innerSize:"50%",data:JSON.parse(JSON.stringify(c.discard))}]});var d=new ScrollMagic.Controller;new ScrollMagic.Scene({triggerElement:"#pin",triggerHook:"onLeave",duration:t}).setPin("#pin").addTo(d),new ScrollMagic.Scene({triggerElement:"#section2",duration:0}).on("enter",function(){$.each(pie.series[0].data,function(e,t){t.update(c.create[e],!1)}),pie.redraw()}).on("leave",function(){$.each(pie.series[0].data,function(e,t){t.update(c.discard[e],!1)}),pie.redraw()}).addTo(d)});